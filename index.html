<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Carte avec points</title>
    <!-- Inclure Leaflet CSS et JavaScript -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.min.css">
   
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id" content="477711767471-3qt79p2aevn10atmc1f4uphnugari3cc.apps.googleusercontent.com">

</head>
<body>
    <div>
        <p>
            totototot
        </p>
        <h1>pouet</h1>
    </div>
    <script>
        const CLIENT_ID = '477711767471-3qt79p2aevn10atmc1f4uphnugari3cc.apps.googleusercontent.com';
        const API_KEY = 'AIzaSyB4S5S7VRi-iMnQv1qs8BeJFBCyOSdMu9k';

        // // Array of API discovery doc URLs for APIs used by the app
        // const DISCOVERY_DOCS = ["https://sheets.googleapis.com/v4/spreadsheets//"];

        // Authorization scopes required by the API
        const SCOPES = 'https://www.googleapis.com/auth/spreadsheets';
        // 
        gapi.load('client:auth2', initClient);

        function initClient() {
            gapi.client.init({
                apiKey: API_KEY,
                clientId: CLIENT_ID,
                scope: SCOPES,
            }).then(function () {
                // Listen for sign-in state changes.
                gapi.auth2.getAuthInstance().isSignedIn.listen(updateSignInStatus);

                // Handle the initial sign-in state.
                updateSignInStatus(gapi.auth2.getAuthInstance().isSignedIn.get());
            }).catch(function (error) {
                console.log(error);
            });
        }

        function updateSignInStatus(isSignedIn) {
            if (isSignedIn) {
                authorizeButton.style.display = 'none';
                content.innerText = 'You are authorized.';
            } else {
                authorizeButton.style.display = 'block';
                content.innerText = 'You are not authorized.';
            }
        }

        function handleAuthClick(event) {
            gapi.auth2.getAuthInstance().signIn();
        }

        function updateSheet() {
            gapi.client.sheets.spreadsheets.values.update({
                spreadsheetId: '1064561417',
                range: 'Sheet1!J1',
                valueInputOption: 'RAW',
                values: [['Updated value']]
            }).then(function(response) {
                console.log('Update successful', response);
            }, function(reason) {
                console.error('Error: ' + reason.result.error.message);
            });
        }
    </script>
</body>
</html>
